webpackJsonp([6],{"6fb/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("Dd8w"),s=r.n(o),a=r("D4TX"),c=r("gyMJ"),l=r("NYxO"),m={components:{Crumbs:a.a},data:function(){return{form:{name:"",tel:"",remarks:"",address:"",checkedTem:""},checkedStocks:[],templateList:[],rules:{name:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],tel:[{required:!0,message:"请输入电话号码",trigger:"blur"}],address:[{required:!0,message:"请输入客户住址",trigger:"blur"}],checkedTem:[{required:!0,message:"请选择一个模板",trigger:"blur, change"}]}}},computed:{currentTemGoods:function(){var e=this,t=this.templateList.find(function(t){return t.name==e.form.checkedTem});return t?(this.checkedStocks=t.goods,t.goods):[]}},methods:s()({},Object(l.b)(["TOSAST_STATE"]),{onSubmit:function(){var e=this;this.$refs.rulesform.validate(function(t){if(!t)return console.log("error submit!!"),!1;if(e.checkedStocks.length>0){var r=JSON.parse(localStorage.getItem("userInfo")),o={token:r.token,username:r.user,form:e.form,checkedStocks:e.checkedStocks};Object(c.m)(o).then(function(t){e.TOSAST_STATE({text:t.msg}),t.errcode||(e.form={name:"",tel:"",remarks:"",address:"",checkedTem:""},e.checkedStocks=[])})}else e.TOSAST_STATE({text:"请选择客户所需的物料"})})}}),created:function(){var e=this,t=JSON.parse(localStorage.getItem("userInfo"));Object(c.q)({token:t.token,username:t.user}).then(function(t){t.errcode?(e.TOSAST_STATE({text:t.msg}),2==t.errcode&&setTimeout(function(){localStorage.removeItem("userInfo"),e.$router.push("/login")},1e3)):e.templateList=t.data.list})}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Crumbs",{attrs:{crumbs1:"客户",crumbs2:"添加客户"}}),e._v(" "),r("div",{staticClass:"form-box"},[r("el-form",{ref:"rulesform",attrs:{"label-width":"100px",model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话号码",prop:"tel"}},[r("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"住址",prop:"address"}},[r("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"选择模板",prop:"checkedTem"}},[r("el-radio-group",{model:{value:e.form.checkedTem,callback:function(t){e.$set(e.form,"checkedTem",t)},expression:"form.checkedTem"}},e._l(e.templateList,function(e,t){return r("el-radio",{key:t,attrs:{label:e.name}})}))],1),e._v(" "),e.form.checkedTem?r("el-form-item",{attrs:{label:"物料列表"}},[r("p",{staticClass:"red"},[e._v("请选择客户所需的物料")]),e._v(" "),r("el-checkbox-group",{staticClass:"min-height",model:{value:e.checkedStocks,callback:function(t){e.checkedStocks=t},expression:"checkedStocks"}},e._l(e.currentTemGoods,function(e,t){return r("el-checkbox",{key:t,attrs:{label:e,name:"type"}})}))],1):e._e(),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var i=r("VU/8")(m,n,!1,function(e){r("gC9p")},"data-v-de44bb2e",null);t.default=i.exports},gC9p:function(e,t){}});
//# sourceMappingURL=6.175c1a509745572cd560.js.map