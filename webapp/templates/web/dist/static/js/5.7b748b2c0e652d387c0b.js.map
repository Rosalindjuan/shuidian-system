{"version":3,"sources":["webpack:///src/components/page/CustomerDetail.vue","webpack:///./src/components/page/CustomerDetail.vue?5aae","webpack:///./src/components/page/CustomerDetail.vue"],"names":["CustomerDetail","Crumbs","computed","extends_default","Object","vuex_esm","stock_num","amount","stock_price","methods","_this","this","token","user","id","form","msg","REMOVE_USERINFO","_this2","goodsList","_this3","repayMoney","repayTime","_this4","stock_name","checkedStocks","_this5","list","_this6","stock_amount","elemIF","_this7","downloadFile","_this8","info","goods_list","repay_list","getStockList","page_CustomerDetail","render","_vm","_h","$createElement","_c","_self","attrs","crumbs1","crumbs2","_v","staticClass","on","click","download","ref","label-width","model","rules","label","_s","name","prop","value","callback","$$v","$set","expression","type","onSubmitCus","currentAmount","_m","_l","repay","i","key","time","placeholder","staticStyle","width","value-format","addRepay","data","scopedSlots","_u","fn","scope","row","perAmount","onSubmitGoods","addGoodsShow","change","handleCheckedChange","stock","onSubmitAddStock","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.7b748b2c0e652d387c0b.js","sourcesContent":["<template>\n  <div>\n    <Crumbs crumbs1=\"客户\" crumbs2=\"客户详情\"></Crumbs>\n    <div @click=\"download\" class=\"download\">下载客户详情</div>\n    <!--<a href=\"files/list.xlsx\" >下载客户详情</a>-->\n    <div class=\"plugins-tips\">客户基本信息</div>\n    <div class=\"form-box\">\n      <el-form label-width=\"100px\" :model=\"form\" :rules=\"rules\" ref=\"rulesform\">\n        <el-form-item label=\"姓名\">{{form.name}}</el-form-item>\n        <el-form-item label=\"电话号码\" prop=\"tel\">\n          <el-input v-model=\"form.tel\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"住址\" prop=\"address\">\n          <el-input v-model=\"form.address\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remarks\">\n          <el-input type=\"textarea\" v-model=\"form.remarks\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmitCus\">保存</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <br>\n    <div class=\"plugins-tips\">还款信息</div>\n    <ul class=\"repay-info form-box\">\n      <li class=\"amount\">应还款总额： <span>{{currentAmount}}</span>元</li>\n      <li>\n        <ul>\n          <li>付款金额(￥)</li>\n          <li>付款时间</li>\n        </ul>\n        <ul v-for=\"(repay, i) in repayList\" :key=\"i\">\n          <li>{{repay.amount}}</li>\n          <li>{{repay.time}}</li>\n        </ul>\n        <ul>\n          <li>\n            <el-input v-model=\"repay.repayMoney\" placeholder=\"输入付款金额\"></el-input>\n          </li>\n          <li>\n            <el-date-picker type=\"date\" placeholder=\"选择日期\"\n                            v-model=\"repay.repayTime\"\n                            value-format=\"yyyy-MM-dd\" style=\"width: 100%;\"></el-date-picker>\n          </li>\n        </ul>\n        <ul>\n          <li class=\"add-btn\">\n            <el-button type=\"primary\" @click=\"addRepay\">添加</el-button>\n          </li>\n        </ul>\n\n      </li>\n    </ul>\n    <div class=\"plugins-tips\">客户用到的物料列表</div>\n    <div class=\"form-box\">\n      <el-form>\n        <el-form-item>\n          <el-table :data=\"goodsList\">\n            <el-table-column type=\"index\"></el-table-column>\n            <el-table-column prop=\"stock_name\" label=\"名称\"></el-table-column>\n            <el-table-column prop=\"stock_num\" label=\"数量\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.stock_num\"></el-input>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"stock_price\" label=\"单价\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.stock_price\"></el-input>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"金额\" prop=\"stock_amount\">\n              <template slot-scope=\"scope\">{{perAmount}}\n                {{scope.row.stock_num * scope.row.stock_price}}\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmitGoods\">保存</el-button>\n          <el-button type=\"text\" @click=\"addGoodsShow\">添加物料</el-button>\n        </el-form-item>\n      </el-form>\n\n    </div>\n    <div class=\"addStock\" v-if=\"dialogVisible\">\n      <h2>添加物料</h2>\n      <el-form>\n        <el-checkbox-group v-model=\"checkedStocks\" @change=\"handleCheckedChange\">\n          <el-checkbox v-for=\"stock in stocks\" :label=\"stock\" :key=\"stock\">{{stock}}</el-checkbox>\n        </el-checkbox-group>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmitAddStock\">保存</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Crumbs from \"../common/Crumbs.vue\"\n  import {\n    getStocks,\n    getCustomer,\n    addCusRepay,\n    updateCustomer,\n    updateCusGoods,\n    addCusGoods,\n    exportCusDetail\n  } from \"../../api\"\n  import {mapMutations, mapState} from 'vuex'\n\n  export default {\n    components: {\n      Crumbs\n    },\n    data() {\n      return {\n        form: {\n          name: '',\n          tel: '',\n          remarks: '',\n          address: ''\n        },\n        dialogVisible: false,\n        rules: {\n          name: [{required: true, message: '请输入客户姓名', trigger: 'blur'}],\n          tel: [{required: true, message: '请输入电话号码', trigger: 'blur'}],\n          address: [{required: true, message: '请输入客户住址', trigger: 'blur'}],\n        },\n        goodsList: [],\n        stocks: [],\n        checkedStocks: [],\n        repay: {\n          repayMoney: '',\n          repayTime: ''\n        },\n        repayList: [],\n      }\n    },\n    computed: {\n      ...mapState(['userInfo']),\n      // 总金额\n      currentAmount() {\n        let amount = 0\n        this.goodsList.map(item => {\n          amount += item.stock_price * item.stock_num\n        })\n        return amount\n      },\n      // 计算金额\n      perAmount() {\n        this.goodsList.map(item => {\n          item.stock_price = +item.stock_price\n          item.stock_num = +item.stock_num\n          return item.stock_amount = item.stock_price * item.stock_num\n        })\n      }\n    },\n    methods: {\n      ...mapMutations(['TOSAST_STATE', 'GET_USERINFO', 'REMOVE_USERINFO']),\n      // 修改客户信息\n      onSubmitCus() {\n        this.$refs['rulesform'].validate((valid) => {\n          if (valid) {\n            let params = {\n              token: this.userInfo.token,\n              username: this.userInfo.user,\n              id: this.$route.params.id,\n              form: this.form\n            }\n            updateCustomer(params).then(res => {\n              this.TOSAST_STATE({text: res.msg})\n              if (res.errcode == 2) {\n                this.REMOVE_USERINFO()\n                this.$router.push('/login');\n              }\n            })\n          } else {\n            return false;\n          }\n        });\n      },\n      // 用料提交\n      onSubmitGoods() {\n        let params = {\n          token: this.userInfo.token,\n          username: this.userInfo.user,\n          id: this.$route.params.id,\n          goodsList: this.goodsList\n        }\n        updateCusGoods(params).then(res => {\n          this.TOSAST_STATE({text: res.msg})\n          if (res.errcode == 2) {\n            this.REMOVE_USERINFO()\n            this.$router.push('/login');\n          }\n        })\n      },\n      // 判断客户付款金额\n      judgeRepayMoney() {\n        if (this.repay.repayMoney) {\n          return true\n        } else {\n          this.TOSAST_STATE({text: '请输入付款金额'})\n          return false\n        }\n      },\n      // 判断客户付款时间\n      judgeRepayTime() {\n        if (this.repay.repayTime) {\n          return true\n        } else {\n          this.TOSAST_STATE({text: '请选择付款日期'})\n          return false\n        }\n      },\n      // 添加付款信息\n      addRepay() {\n        if (this.judgeRepayMoney() && this.judgeRepayTime()) {\n          let param = {\n            token: this.userInfo.token,\n            username: this.userInfo.user,\n            id: this.$route.params.id,\n            amount: this.repay.repayMoney,\n            time: this.repay.repayTime\n          }\n          addCusRepay(param).then(res => {\n            this.TOSAST_STATE({text: res.msg})\n            if (!res.errcode) {\n              // 添加付款信息 提交\n              this.repayList.push({amount: this.repay.repayMoney, time: this.repay.repayTime})\n              this.repay.repayMoney = ''\n              this.repay.repayTime = ''\n            } else {\n              if (res.errcode == 2) {\n                this.REMOVE_USERINFO()\n                this.$router.push('/login');\n              }\n            }\n          })\n        }\n      },\n\n      // 添加物料 内容显示\n      addGoodsShow() {\n        this.dialogVisible = true\n        this.goodsList.map(item => {\n          let index = this.stocks.indexOf(item.stock_name);\n          if (index > -1) {\n            this.stocks.splice(index, 1);\n          }\n        })\n      },\n      // 多选选择\n      handleCheckedChange() {\n        console.log(this.checkedStocks)\n      },\n      // 获取物料列表\n      getStockList() {\n        getStocks({username: this.userInfo.user, token: this.userInfo.token}).then(res => {\n          if (!res.errcode) {\n            this.stocks = res.data.list\n          } else {\n            this.TOSAST_STATE({text: res.msg})\n            if (res.errcode == 2) {\n              this.REMOVE_USERINFO()\n              this.$router.push('/login');\n            }\n          }\n        })\n      },\n      // 提交添加物料\n      onSubmitAddStock() {\n        let param = {\n          username: this.userInfo.user,\n          token: this.userInfo.token,\n          customer_id: this.$route.params.id,\n          checkedStocks: this.checkedStocks\n        }\n        addCusGoods(param).then(res => {\n          this.TOSAST_STATE({text: res.msg})\n          if (!res.errcode) {\n            res.data.list.map(item => {\n              this.goodsList.push({\n                id: item.id,\n                stock_amount: item.stock_amount,\n                stock_num: item.stock_num,\n                stock_price: item.stock_price,\n                stock_name: item.stock_name\n              })\n            })\n            this.checkedStocks = []\n            this.dialogVisible = false\n          }\n        })\n      },\n      downloadFile(){\n        var elemIF = document.createElement(\"iframe\");\n        elemIF.src = \"files/list.xlsx\";\n        elemIF.style.display = \"none\";\n        document.body.appendChild(elemIF);\n      },\n      download() {\n        let param = {\n          username: this.userInfo.user,\n          token: this.userInfo.token,\n          customer_id: this.$route.params.id\n        }\n        exportCusDetail(param).then(res => {\n          if (!res.errcode) {\n            this.downloadFile()\n          }\n        })\n      }\n    },\n    created() {\n      let param = {params: {id: this.$route.params.id, token: this.userInfo.token, username: this.userInfo.user}}\n      getCustomer(param).then(res => {\n        if (!res.errcode) {\n          this.form = res.data.info\n          this.goodsList = res.data.goods_list\n          this.repayList = res.data.repay_list\n        } else {\n          this.TOSAST_STATE({text: res.msg})\n          if (res.errcode == 2) {\n            this.REMOVE_USERINFO()\n            this.$router.push('/login');\n          }\n        }\n      })\n      this.getStockList()\n    }\n  }\n</script>\n\n<style scoped>\n  ul, li {\n    list-style: none;\n  }\n  .download {\n    cursor: pointer;\n    margin-bottom: 20px;\n    color: #409eff;\n    border: 1px solid #409eff;\n    display: inline-block;\n    padding: 10px;\n    border-radius: 5px;\n  }\n\n  .repay-info {\n    display: flex;\n    align-items: center;\n    border: 1px solid #ebeef5;\n    margin-top: 20px;\n    margin-bottom: 20px;\n  }\n\n  .amount {\n    width: 200px;\n  }\n\n  .repay-info li {\n    padding: 10px;\n    width: 200px;\n  }\n\n  .repay-info > li:last-child {\n    padding: 0;\n    width: 400px;\n  }\n\n  .repay-info > li > ul {\n    width: 100%;\n    display: flex;\n    border-bottom: 1px solid #ebeef5;\n    text-align: center;\n  }\n\n  .repay-info > li > ul li {\n    border-left: 1px solid #ebeef5;\n  }\n\n  .repay-info > li > ul:last-child {\n    border-bottom: none;\n  }\n\n  .repay-info > li > ul li.add-btn {\n    width: 100%;\n  }\n\n  .add-btn button {\n    display: block;\n    margin: 0 auto;\n  }\n\n  .addStock {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    width: 500px;\n    height: 300px;\n    background: #fff;\n    border: 1px solid #eee;\n    border-radius: 5px;\n    margin-left: -250px;\n    margin-top: -150px;\n    padding: 10px;\n    overflow: auto;\n  }\n\n  .addStock h2 {\n    text-align: center;\n    margin-bottom: 20px;\n  }\n\n  .el-checkbox + .el-checkbox {\n    margin-left: 0;\n  }\n\n  .el-checkbox {\n    margin: 0 30px 10px 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/CustomerDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Crumbs',{attrs:{\"crumbs1\":\"客户\",\"crumbs2\":\"客户详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"download\",on:{\"click\":_vm.download}},[_vm._v(\"下载客户详情\")]),_vm._v(\" \"),_c('div',{staticClass:\"plugins-tips\"},[_vm._v(\"客户基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-box\"},[_c('el-form',{ref:\"rulesform\",attrs:{\"label-width\":\"100px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_vm._v(_vm._s(_vm.form.name))]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话号码\",\"prop\":\"tel\"}},[_c('el-input',{model:{value:(_vm.form.tel),callback:function ($$v) {_vm.$set(_vm.form, \"tel\", $$v)},expression:\"form.tel\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"住址\",\"prop\":\"address\"}},[_c('el-input',{model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitCus}},[_vm._v(\"保存\")])],1)],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"plugins-tips\"},[_vm._v(\"还款信息\")]),_vm._v(\" \"),_c('ul',{staticClass:\"repay-info form-box\"},[_c('li',{staticClass:\"amount\"},[_vm._v(\"应还款总额： \"),_c('span',[_vm._v(_vm._s(_vm.currentAmount))]),_vm._v(\"元\")]),_vm._v(\" \"),_c('li',[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.repayList),function(repay,i){return _c('ul',{key:i},[_c('li',[_vm._v(_vm._s(repay.amount))]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(repay.time))])])}),_vm._v(\" \"),_c('ul',[_c('li',[_c('el-input',{attrs:{\"placeholder\":\"输入付款金额\"},model:{value:(_vm.repay.repayMoney),callback:function ($$v) {_vm.$set(_vm.repay, \"repayMoney\", $$v)},expression:\"repay.repayMoney\"}})],1),_vm._v(\" \"),_c('li',[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.repay.repayTime),callback:function ($$v) {_vm.$set(_vm.repay, \"repayTime\", $$v)},expression:\"repay.repayTime\"}})],1)]),_vm._v(\" \"),_c('ul',[_c('li',{staticClass:\"add-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRepay}},[_vm._v(\"添加\")])],1)])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"plugins-tips\"},[_vm._v(\"客户用到的物料列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-box\"},[_c('el-form',[_c('el-form-item',[_c('el-table',{attrs:{\"data\":_vm.goodsList}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stock_name\",\"label\":\"名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stock_num\",\"label\":\"数量\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{model:{value:(scope.row.stock_num),callback:function ($$v) {_vm.$set(scope.row, \"stock_num\", $$v)},expression:\"scope.row.stock_num\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stock_price\",\"label\":\"单价\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{model:{value:(scope.row.stock_price),callback:function ($$v) {_vm.$set(scope.row, \"stock_price\", $$v)},expression:\"scope.row.stock_price\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"金额\",\"prop\":\"stock_amount\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.perAmount)+\"\\n              \"+_vm._s(scope.row.stock_num * scope.row.stock_price)+\"\\n            \")]}}])})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitGoods}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.addGoodsShow}},[_vm._v(\"添加物料\")])],1)],1)],1),_vm._v(\" \"),(_vm.dialogVisible)?_c('div',{staticClass:\"addStock\"},[_c('h2',[_vm._v(\"添加物料\")]),_vm._v(\" \"),_c('el-form',[_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedChange},model:{value:(_vm.checkedStocks),callback:function ($$v) {_vm.checkedStocks=$$v},expression:\"checkedStocks\"}},_vm._l((_vm.stocks),function(stock){return _c('el-checkbox',{key:stock,attrs:{\"label\":stock}},[_vm._v(_vm._s(stock))])})),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitAddStock}},[_vm._v(\"保存\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"付款金额(￥)\")]),_vm._v(\" \"),_c('li',[_vm._v(\"付款时间\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a5fcf1e6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/CustomerDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5fcf1e6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CustomerDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a5fcf1e6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CustomerDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a5fcf1e6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/CustomerDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}