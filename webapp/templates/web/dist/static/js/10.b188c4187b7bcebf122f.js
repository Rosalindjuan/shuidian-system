webpackJsonp([10],{h7M0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),u=a("D4TX"),o=a("gyMJ"),s=a("NYxO"),l={components:{Crumbs:u.a},data:function(){return{tableData:[],cur_page:1,perPage:10,dataSum:10}},computed:r()({},Object(s.c)(["userInfo"])),methods:r()({},Object(s.b)(["TOSAST_STATE","GET_USERINFO","REMOVE_USERINFO"]),{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;Object(o.s)({token:this.userInfo.token,username:this.userInfo.user,result:!0,page:this.cur_page}).then(function(t){t.errcode?(e.TOSAST_STATE({text:t.msg}),2==t.errcode&&(e.REMOVE_USERINFO(),e.$router.push("/login"))):(e.tableData=t.data.list,e.dataSum=t.data.count,e.perPage=t.data.perPage)})},deleteRow:function(e,t){var a=this;Object(o.e)({token:this.userInfo.token,username:this.userInfo.user,id:t.id}).then(function(t){a.TOSAST_STATE({text:t.msg}),t.errcode?2==t.errcode&&(a.REMOVE_USERINFO(),a.$router.push("/login")):a.tableData.splice(e,1)})}}),created:function(){this.getData()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Crumbs",{attrs:{crumbs1:"模板",crumbs2:"模板列表"}}),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:/template_list/+t.row.id}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteRow(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.dataSum,"page-size":e.perPage},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var i=a("VU/8")(l,c,!1,function(e){a("uIwJ")},"data-v-1d0ed776",null);t.default=i.exports},uIwJ:function(e,t){}});
//# sourceMappingURL=10.b188c4187b7bcebf122f.js.map