{"version":3,"sources":["webpack:///src/components/page/CustomerDetail.vue","webpack:///./src/components/page/CustomerDetail.vue?fe5d","webpack:///./src/components/page/CustomerDetail.vue"],"names":["Crumbs","computed","extends_default","Object","vuex_esm","stock_num","amount","stock_price","methods","_this","this","token","user","id","form","msg","REMOVE_USERINFO","_this2","goodsList","_this3","repayMoney","repayTime","_this4","stock_name","checkedStocks","_this5","list","stocks","_this6","res","_this7","info","goods_list","repay_list","getStockList","page_CustomerDetail","render","_vm","_h","$createElement","_c","_self","attrs","crumbs1","crumbs2","_v","staticClass","ref","label-width","model","rules","label","_s","name","prop","value","callback","$$v","$set","expression","type","on","click","onSubmitCus","currentAmount","_m","_l","repay","i","key","time","placeholder","staticStyle","width","value-format","addRepay","data","scopedSlots","_u","fn","scope","row","perAmount","onSubmitGoods","addGoodsShow","change","handleCheckedChange","stock","onSubmitAddStock","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","CustomerDetail","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.9d821f0e9b6f3e5221df.js","sourcesContent":["<template>\n  <div>\n    <Crumbs crumbs1=\"客户\" crumbs2=\"客户详情\"></Crumbs>\n    <div class=\"plugins-tips\">客户基本信息</div>\n    <div class=\"form-box\">\n      <el-form label-width=\"100px\" :model=\"form\" :rules=\"rules\" ref=\"rulesform\">\n        <el-form-item label=\"姓名\">{{form.name}}</el-form-item>\n        <el-form-item label=\"电话号码\" prop=\"tel\">\n          <el-input v-model=\"form.tel\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"住址\" prop=\"address\">\n          <el-input v-model=\"form.address\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remarks\">\n          <el-input type=\"textarea\" v-model=\"form.remarks\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmitCus\">保存</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <br>\n    <div class=\"plugins-tips\">还款信息</div>\n    <ul class=\"repay-info form-box\">\n      <li class=\"amount\">应还款总额： <span>{{currentAmount}}</span>元</li>\n      <li>\n        <ul>\n          <li>付款金额(￥)</li>\n          <li>付款时间</li>\n        </ul>\n        <ul v-for=\"(repay, i) in repayList\" :key=\"i\">\n          <li>{{repay.amount}}</li>\n          <li>{{repay.time}}</li>\n        </ul>\n        <ul>\n          <li>\n            <el-input v-model=\"repay.repayMoney\" placeholder=\"输入付款金额\"></el-input>\n          </li>\n          <li>\n            <el-date-picker type=\"date\" placeholder=\"选择日期\"\n                            v-model=\"repay.repayTime\"\n                            value-format=\"yyyy-MM-dd\" style=\"width: 100%;\"></el-date-picker>\n          </li>\n        </ul>\n        <ul>\n          <li class=\"add-btn\">\n            <el-button type=\"primary\" @click=\"addRepay\">添加</el-button>\n          </li>\n        </ul>\n\n      </li>\n    </ul>\n    <div class=\"plugins-tips\">客户用到的物料列表</div>\n    <div class=\"form-box\">\n      <el-form>\n        <el-form-item>\n          <el-table :data=\"goodsList\">\n            <el-table-column type=\"index\"></el-table-column>\n            <el-table-column prop=\"stock_name\" label=\"名称\"></el-table-column>\n            <el-table-column prop=\"stock_num\" label=\"数量\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.stock_num\"></el-input>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"stock_price\" label=\"单价\" width=\"100\">\n              <template slot-scope=\"scope\">\n                <el-input v-model=\"scope.row.stock_price\"></el-input>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"金额\" prop=\"stock_amount\">\n              <template slot-scope=\"scope\">{{perAmount}}\n                {{scope.row.stock_num * scope.row.stock_price}}\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmitGoods\">保存</el-button>\n          <el-button type=\"text\" @click=\"addGoodsShow\">添加物料</el-button>\n        </el-form-item>\n      </el-form>\n\n    </div>\n    <div class=\"addStock\" v-if=\"dialogVisible\">\n      <h2>添加物料</h2>\n      <el-form>\n        <el-checkbox-group v-model=\"checkedStocks\" @change=\"handleCheckedChange\">\n          <el-checkbox v-for=\"stock in stocks\" :label=\"stock\" :key=\"stock\">{{stock}}</el-checkbox>\n        </el-checkbox-group>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmitAddStock\">保存</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Crumbs from \"../common/Crumbs.vue\"\n  import {getStocks, getCustomer, addCusRepay, updateCustomer, updateCusGoods, addCusGoods} from \"../../api\"\n  import {mapMutations, mapState} from 'vuex'\n\n  export default {\n    components: {\n      Crumbs\n    },\n    data() {\n      return {\n        form: {\n          name: '',\n          tel: '',\n          remarks: '',\n          address: ''\n        },\n        dialogVisible: false,\n        rules: {\n          name: [{required: true, message: '请输入客户姓名', trigger: 'blur'}],\n          tel: [{required: true, message: '请输入电话号码', trigger: 'blur'}],\n          address: [{required: true, message: '请输入客户住址', trigger: 'blur'}],\n        },\n        goodsList: [],\n        stocks: [],\n        checkedStocks: [],\n        repay: {\n          repayMoney: '',\n          repayTime: ''\n        },\n        repayList: [],\n      }\n    },\n    computed: {\n      ...mapState(['userInfo']),\n      // 总金额\n      currentAmount() {\n        let amount = 0\n        this.goodsList.map(item => {\n          amount += item.stock_price * item.stock_num\n        })\n        return amount\n      },\n      // 计算金额\n      perAmount() {\n        this.goodsList.map(item => {\n          item.stock_price = +item.stock_price\n          item.stock_num = +item.stock_num\n          return item.stock_amount = item.stock_price * item.stock_num\n        })\n      }\n    },\n    methods: {\n      ...mapMutations(['TOSAST_STATE', 'GET_USERINFO', 'REMOVE_USERINFO']),\n      // 修改客户信息\n      onSubmitCus() {\n        this.$refs['rulesform'].validate((valid) => {\n          if (valid) {\n            let params = {\n              token: this.userInfo.token,\n              username: this.userInfo.user,\n              id: this.$route.params.id,\n              form: this.form\n            }\n            updateCustomer(params).then(res => {\n              this.TOSAST_STATE({text: res.msg})\n              if (res.errcode == 2) {\n                this.REMOVE_USERINFO()\n                this.$router.push('/login');\n              }\n            })\n          } else {\n            return false;\n          }\n        });\n      },\n      // 用料提交\n      onSubmitGoods() {\n        let params = {\n          token: this.userInfo.token,\n          username: this.userInfo.user,\n          id: this.$route.params.id,\n          goodsList: this.goodsList\n        }\n        updateCusGoods(params).then(res => {\n          this.TOSAST_STATE({text: res.msg})\n          if (res.errcode == 2) {\n            this.REMOVE_USERINFO()\n            this.$router.push('/login');\n          }\n        })\n      },\n      // 判断客户付款金额\n      judgeRepayMoney() {\n        if (this.repay.repayMoney) {\n          return true\n        } else {\n          this.TOSAST_STATE({text: '请输入付款金额'})\n          return false\n        }\n      },\n      // 判断客户付款时间\n      judgeRepayTime() {\n        if (this.repay.repayTime) {\n          return true\n        } else {\n          this.TOSAST_STATE({text: '请选择付款日期'})\n          return false\n        }\n      },\n      // 添加付款信息\n      addRepay() {\n        if (this.judgeRepayMoney() && this.judgeRepayTime()) {\n          let param = {\n            token: this.userInfo.token,\n            username: this.userInfo.user,\n            id: this.$route.params.id,\n            amount: this.repay.repayMoney,\n            time: this.repay.repayTime\n          }\n          addCusRepay(param).then(res => {\n            this.TOSAST_STATE({text: res.msg})\n            if (!res.errcode) {\n              // 添加付款信息 提交\n              this.repayList.push({amount: this.repay.repayMoney, time: this.repay.repayTime})\n              this.repay.repayMoney = ''\n              this.repay.repayTime = ''\n            } else {\n              if (res.errcode == 2) {\n                this.REMOVE_USERINFO()\n                this.$router.push('/login');\n              }\n            }\n          })\n        }\n      },\n\n      // 添加物料 内容显示\n      addGoodsShow() {\n        this.dialogVisible = true\n        this.goodsList.map(item => {\n          let index = this.stocks.indexOf(item.stock_name);\n          if (index > -1) {\n            this.stocks.splice(index, 1);\n          }\n        })\n      },\n      // 多选选择\n      handleCheckedChange() {\n        console.log(this.checkedStocks)\n      },\n      // 获取物料列表\n      getStockList() {\n        getStocks({username: this.userInfo.user, token: this.userInfo.token}).then(res => {\n          if (!res.errcode) {\n            this.stocks = res.data.list\n            console.log(this.stocks)\n          } else {\n            this.TOSAST_STATE({text: res.msg})\n            if (res.errcode == 2) {\n              this.REMOVE_USERINFO()\n              this.$router.push('/login');\n            }\n          }\n        })\n      },\n      // 提交添加物料\n      onSubmitAddStock(){\n        let param = {username: this.userInfo.user,\n          token: this.userInfo.token,\n          customer_id: this.$route.params.id,\n          checkedStocks: this.checkedStocks\n        }\n        addCusGoods(param).then(res => {\n          console.log('addCusGoods', res)\n          this.TOSAST_STATE({text: res.msg})\n          if(!res.errcode) {\n            res.data.list.map(item => {\n//              let goods = this.goodsList.find(list => list.stock_name == item)\n//              if(!goods){\n              this.goodsList.push({id: item.id,stock_amount: item.stock_amount,stock_num: item.stock_num,stock_price: item.stock_price,stock_name: item.stock_name})\n//              }\n            })\n            this.checkedStocks = []\n            this.dialogVisible = false\n          }\n        })\n      }\n    },\n    created() {\n      let param = {params: {id: this.$route.params.id, token: this.userInfo.token, username: this.userInfo.user}}\n      getCustomer(param).then(res => {\n        if (!res.errcode) {\n          this.form = res.data.info\n          this.goodsList = res.data.goods_list\n          this.repayList = res.data.repay_list\n        } else {\n          this.TOSAST_STATE({text: res.msg})\n          if (res.errcode == 2) {\n            this.REMOVE_USERINFO()\n            this.$router.push('/login');\n          }\n        }\n      })\n      this.getStockList()\n    }\n  }\n</script>\n\n<style scoped>\n  ul, li {\n    list-style: none;\n  }\n\n  .repay-info {\n    display: flex;\n    align-items: center;\n    border: 1px solid #ebeef5;\n    margin-top: 20px;\n    margin-bottom: 20px;\n  }\n\n  .amount {\n    width: 200px;\n  }\n\n  .repay-info li {\n    padding: 10px;\n    width: 200px;\n  }\n\n  .repay-info > li:last-child {\n    padding: 0;\n    width: 400px;\n  }\n\n  .repay-info > li > ul {\n    width: 100%;\n    display: flex;\n    border-bottom: 1px solid #ebeef5;\n    text-align: center;\n  }\n\n  .repay-info > li > ul li {\n    border-left: 1px solid #ebeef5;\n  }\n\n  .repay-info > li > ul:last-child {\n    border-bottom: none;\n  }\n\n  .repay-info > li > ul li.add-btn {\n    width: 100%;\n  }\n\n  .add-btn button {\n    display: block;\n    margin: 0 auto;\n  }\n  .addStock {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    width: 500px;\n    height: 300px;\n    background: #fff;\n    border: 1px solid #eee;\n    border-radius: 5px;\n    margin-left: -250px;\n    margin-top: -150px;\n    padding: 10px;\n    overflow: auto;\n  }\n  .addStock h2 {\n    text-align: center;\n    margin-bottom: 20px;\n  }\n  .el-checkbox+.el-checkbox {\n    margin-left: 0;\n  }\n  .el-checkbox {\n    margin: 0 30px 10px 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/CustomerDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Crumbs',{attrs:{\"crumbs1\":\"客户\",\"crumbs2\":\"客户详情\"}}),_vm._v(\" \"),_c('div',{staticClass:\"plugins-tips\"},[_vm._v(\"客户基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-box\"},[_c('el-form',{ref:\"rulesform\",attrs:{\"label-width\":\"100px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_vm._v(_vm._s(_vm.form.name))]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话号码\",\"prop\":\"tel\"}},[_c('el-input',{model:{value:(_vm.form.tel),callback:function ($$v) {_vm.$set(_vm.form, \"tel\", $$v)},expression:\"form.tel\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"住址\",\"prop\":\"address\"}},[_c('el-input',{model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitCus}},[_vm._v(\"保存\")])],1)],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"plugins-tips\"},[_vm._v(\"还款信息\")]),_vm._v(\" \"),_c('ul',{staticClass:\"repay-info form-box\"},[_c('li',{staticClass:\"amount\"},[_vm._v(\"应还款总额： \"),_c('span',[_vm._v(_vm._s(_vm.currentAmount))]),_vm._v(\"元\")]),_vm._v(\" \"),_c('li',[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.repayList),function(repay,i){return _c('ul',{key:i},[_c('li',[_vm._v(_vm._s(repay.amount))]),_vm._v(\" \"),_c('li',[_vm._v(_vm._s(repay.time))])])}),_vm._v(\" \"),_c('ul',[_c('li',[_c('el-input',{attrs:{\"placeholder\":\"输入付款金额\"},model:{value:(_vm.repay.repayMoney),callback:function ($$v) {_vm.$set(_vm.repay, \"repayMoney\", $$v)},expression:\"repay.repayMoney\"}})],1),_vm._v(\" \"),_c('li',[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.repay.repayTime),callback:function ($$v) {_vm.$set(_vm.repay, \"repayTime\", $$v)},expression:\"repay.repayTime\"}})],1)]),_vm._v(\" \"),_c('ul',[_c('li',{staticClass:\"add-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRepay}},[_vm._v(\"添加\")])],1)])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"plugins-tips\"},[_vm._v(\"客户用到的物料列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-box\"},[_c('el-form',[_c('el-form-item',[_c('el-table',{attrs:{\"data\":_vm.goodsList}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stock_name\",\"label\":\"名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stock_num\",\"label\":\"数量\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{model:{value:(scope.row.stock_num),callback:function ($$v) {_vm.$set(scope.row, \"stock_num\", $$v)},expression:\"scope.row.stock_num\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"stock_price\",\"label\":\"单价\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{model:{value:(scope.row.stock_price),callback:function ($$v) {_vm.$set(scope.row, \"stock_price\", $$v)},expression:\"scope.row.stock_price\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"金额\",\"prop\":\"stock_amount\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.perAmount)+\"\\n              \"+_vm._s(scope.row.stock_num * scope.row.stock_price)+\"\\n            \")]}}])})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitGoods}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.addGoodsShow}},[_vm._v(\"添加物料\")])],1)],1)],1),_vm._v(\" \"),(_vm.dialogVisible)?_c('div',{staticClass:\"addStock\"},[_c('h2',[_vm._v(\"添加物料\")]),_vm._v(\" \"),_c('el-form',[_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedChange},model:{value:(_vm.checkedStocks),callback:function ($$v) {_vm.checkedStocks=$$v},expression:\"checkedStocks\"}},_vm._l((_vm.stocks),function(stock){return _c('el-checkbox',{key:stock,attrs:{\"label\":stock}},[_vm._v(_vm._s(stock))])})),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitAddStock}},[_vm._v(\"保存\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"付款金额(￥)\")]),_vm._v(\" \"),_c('li',[_vm._v(\"付款时间\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65350140\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/CustomerDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-65350140\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CustomerDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomerDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65350140\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CustomerDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-65350140\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/CustomerDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}