webpackJsonp([12],{"6fb/":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("Dd8w"),o=t.n(s),c=t("D4TX"),a=t("gyMJ"),n=t("NYxO"),l={components:{Crumbs:c.a},data:function(){return{form:{name:"",tel:"",remarks:"",address:"",checkedTem:""},checkedStocks:[],templateList:[],rules:{name:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],tel:[{required:!0,message:"请输入电话号码",trigger:"blur"}],address:[{required:!0,message:"请输入客户住址",trigger:"blur"}],checkedTem:[{required:!0,message:"请选择一个模板",trigger:"blur, change"}]}}},computed:o()({},Object(n.c)(["userInfo"]),{currentTemGoods:function(){var e=this,r=this.templateList.find(function(r){return r.name==e.form.checkedTem});return r?(this.checkedStocks=r.goods,r.goods):[]}}),methods:o()({},Object(n.b)(["TOSAST_STATE","GET_USERINFO","REMOVE_USERINFO"]),{onSubmit:function(){var e=this;this.$refs.rulesform.validate(function(r){if(!r)return console.log("error submit!!"),!1;if(e.checkedStocks.length>0){var t={token:e.userInfo.token,username:e.userInfo.user,form:e.form,checkedStocks:e.checkedStocks};Object(a.o)(t).then(function(r){e.TOSAST_STATE({text:r.msg}),r.errcode?2==r.errcode&&(e.REMOVE_USERINFO(),e.$router.push("/login")):(e.form={name:"",tel:"",remarks:"",address:"",checkedTem:""},e.checkedStocks=[])})}else e.TOSAST_STATE({text:"请选择客户所需的物料"})})}}),created:function(){var e=this;Object(a.s)({token:this.userInfo.token,username:this.userInfo.user}).then(function(r){r.errcode?(e.TOSAST_STATE({text:r.msg}),2==r.errcode&&(e.REMOVE_USERINFO(),e.$router.push("/login"))):e.templateList=r.data.list})}},m={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("Crumbs",{attrs:{crumbs1:"客户",crumbs2:"添加客户"}}),e._v(" "),t("div",{staticClass:"form-box"},[t("el-form",{ref:"rulesform",attrs:{"label-width":"100px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"电话号码",prop:"tel"}},[t("el-input",{model:{value:e.form.tel,callback:function(r){e.$set(e.form,"tel",r)},expression:"form.tel"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"住址",prop:"address"}},[t("el-input",{model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(r){e.$set(e.form,"remarks",r)},expression:"form.remarks"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"选择模板",prop:"checkedTem"}},[t("el-radio-group",{model:{value:e.form.checkedTem,callback:function(r){e.$set(e.form,"checkedTem",r)},expression:"form.checkedTem"}},e._l(e.templateList,function(e,r){return t("el-radio",{key:r,attrs:{label:e.name}})}))],1),e._v(" "),e.form.checkedTem?t("el-form-item",{attrs:{label:"物料列表"}},[t("p",{staticClass:"red"},[e._v("请选择客户所需的物料")]),e._v(" "),t("el-checkbox-group",{staticClass:"min-height",model:{value:e.checkedStocks,callback:function(r){e.checkedStocks=r},expression:"checkedStocks"}},e._l(e.currentTemGoods,function(e,r){return t("el-checkbox",{key:r,attrs:{label:e,name:"type"}})}))],1):e._e(),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(l,m,!1,function(e){t("i7Av")},"data-v-054f67f7",null);r.default=i.exports},i7Av:function(e,r){}});
//# sourceMappingURL=12.d6dd6a72053cfc73891a.js.map