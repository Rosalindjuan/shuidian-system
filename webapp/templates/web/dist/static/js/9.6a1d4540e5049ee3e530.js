webpackJsonp([9],{KDDb:function(e,t){},nj0Y:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),n=a.n(r),o=a("D4TX"),l=a("gyMJ"),u=a("NYxO"),s={components:{Crumbs:o.a},data:function(){return{tableData:[],cur_page:1,perPage:10,dataSum:10}},created:function(){this.getData()},computed:{},methods:n()({},Object(u.b)(["TOSAST_STATE"]),{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this,t=JSON.parse(localStorage.getItem("userInfo"));Object(l.j)({params:{username:t.user,token:t.token,result:!0,page:this.cur_page}}).then(function(t){t.errcode?(e.TOSAST_STATE({text:t.msg}),2==t.errcode&&setTimeout(function(){localStorage.removeItem("userInfo"),e.$router.push("/login")},1e3)):(e.tableData=t.data.list,e.dataSum=t.data.count,e.perPage=t.data.perPage)})},deleteRow:function(e,t){var a=this,r=JSON.parse(localStorage.getItem("userInfo"));Object(l.c)({username:r.user,token:r.token,id:t.id}).then(function(t){t.errcode||a.tableData.splice(e,1),a.TOSAST_STATE({text:t.msg})})}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Crumbs",{attrs:{crumbs1:"库存",crumbs2:"库存列表"}}),e._v(" "),a("el-table",{attrs:{data:e.tableData,"header-cell-style":{color:"#000"}}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:/stock_list/+t.row.id}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteRow(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.dataSum,"page-size":e.perPage},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,c,!1,function(e){a("KDDb")},"data-v-4017ec98",null);t.default=i.exports}});
//# sourceMappingURL=9.6a1d4540e5049ee3e530.js.map